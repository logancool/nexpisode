(this.webpackJsonpnexpisode=this.webpackJsonpnexpisode||[]).push([[0],{24:function(t,e,n){},26:function(t,e,n){},28:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(17),a=n.n(o),i=(n(24),n(9)),s=n.n(i),u=n(13),p=n(10),h=(n(26),n(5)),f=function(){var t=function(t){return t.toLocaleString("en-US",{timeZone:"PST"})},e=Object(r.useState)("\xaf\\_(\u30c4)_/\xaf"),n=Object(p.a)(e,2),c=n[0],o=n[1],a=Object(r.useState)({iso:(new Date).toISOString(),pst:t(new Date)}),i=Object(p.a)(a,2),f=i[0],l=i[1],b=Object(r.useState)({iso:(new Date).toISOString(),pst:t(new Date)}),d=Object(p.a)(b,2),j=d[0],O=d[1],g=function(t){var e=t.match(/\d+/g);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])};return Object(r.useEffect)((function(){var e="https://api4.thetvdb.com",n={apikey:"0d51e828-60db-448d-8ec4-2bceb87316d7",pin:"WORUCUTI"},r={"Content-Type":"application/json",accept:"application/json"};function c(){return(c=Object(u.a)(s.a.mark((function t(){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("trying to fetch jwt token"),t.next=4,fetch("".concat(e,"/v4/login"),{method:"POST",headers:r,body:JSON.stringify(n)});case 4:return c=t.sent,t.abrupt("return",c.json());case 8:throw t.prev=8,t.t0=t.catch(0),console.log("fetch JWT token error"),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function o(){return(o=Object(u.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("trying to fetch bachelor episode"),t.next=4,fetch("/v4/series/70869?year=25",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});case 4:return n=t.sent,t.abrupt("return",n.json());case 8:throw t.prev=8,t.t0=t.catch(0),console.log("failure getting bachelor episode"),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}(function(){return c.apply(this,arguments)})().then((function(e){(function(t){return o.apply(this,arguments)})(e.data.token).then((function(e){var n=new Date("".concat(e.data.lastAired).concat("T20:00:00")).toISOString();l({iso:n,pst:t(new Date(n))})}))}))}),[]),Object(r.useEffect)((function(){var e=((g(f.iso)-g(j.iso))/6e4).toFixed(2);e>0&&o("".concat(e," mins"));var n=setInterval((function(){return O({iso:(new Date).toISOString(),pst:t(Date())})}),1e3);return function(){return clearInterval(n)}}),[f,j]),Object(h.jsxs)("div",{className:"bachelor",children:[c,Object(h.jsx)("br",{}),"remaining..."]})},l=n(18),b=n(1);n(28);var d=function(){return Object(h.jsx)(l.a,{children:Object(h.jsx)(b.c,{children:Object(h.jsx)(b.a,{exact:!0,path:"/bachelor",children:Object(h.jsx)(f,{})})})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),o(t),a(t)}))};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(d,{})}),document.getElementById("root")),j()}},[[34,1,2]]]);
//# sourceMappingURL=main.bdbce024.chunk.js.map