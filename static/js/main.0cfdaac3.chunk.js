(this.webpackJsonpnexpisode=this.webpackJsonpnexpisode||[]).push([[0],{24:function(t,e,n){},26:function(t,e,n){},28:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(17),a=n.n(o),i=(n(24),n(9)),s=n.n(i),u=n(13),p=n(10),l=(n(26),n(5)),h=function(){var t=function(t){return t.toLocaleString("en-US",{timeZone:"PST"})},e=Object(r.useState)("\xaf\\_(\u30c4)_/\xaf"),n=Object(p.a)(e,2),c=n[0],o=n[1],a=Object(r.useState)({iso:null,pst:null}),i=Object(p.a)(a,2),h=i[0],f=i[1],b=Object(r.useState)({iso:(new Date).toISOString(),pst:t(new Date)}),d=Object(p.a)(b,2),j=d[0],g=d[1],O=function(t){var e=t.match(/\d+/g);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])};return Object(r.useEffect)((function(){var e={apikey:"0d51e828-60db-448d-8ec4-2bceb87316d7",pin:"string"},n={"Content-Type":"application/json",accept:"application/json"};function r(){return(r=Object(u.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("trying to fetch jwt token"),t.next=4,fetch("/v4/login",{method:"POST",headers:n,body:JSON.stringify(e)});case 4:return r=t.sent,t.abrupt("return",r.json());case 8:throw t.prev=8,t.t0=t.catch(0),console.log("fetch JWT token error"),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function c(){return(c=Object(u.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("trying to fetch bachelor episode"),t.next=4,fetch("/v4/series/70869?year=25",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});case 4:return n=t.sent,t.abrupt("return",n.json());case 8:throw t.prev=8,t.t0=t.catch(0),console.log("failure getting bachelor episode"),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}(function(){return r.apply(this,arguments)})().then((function(e){(function(t){return c.apply(this,arguments)})(e.data.token).then((function(e){var n=new Date("".concat(e.data.lastAired).concat("T20:00:00")).toISOString(),r=((O(n)-O(j.iso))/6e4).toFixed(2);n>j.iso&&(o("".concat(r," mins")),f({pst:t(new Date(n))}))}))}));var a=setInterval((function(){return g({iso:(new Date).toISOString(),pst:t(Date())})}),3e3);return function(){return clearInterval(a)}}),[o,j,c]),Object(l.jsxs)("div",{className:"bachelor",children:[c,Object(l.jsx)("br",{}),"remaining...",h.pst]})},f=n(18),b=n(1);n(28);var d=function(){return Object(l.jsx)(f.a,{children:Object(l.jsx)(b.c,{children:Object(l.jsx)(b.a,{exact:!0,path:"/bachelor",children:Object(l.jsx)(h,{})})})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),o(t),a(t)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),j()}},[[34,1,2]]]);
//# sourceMappingURL=main.0cfdaac3.chunk.js.map